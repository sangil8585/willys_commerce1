## ✈️ 기능적 요구사항

---

## 💡 Happy Path (낙관적 흐름)

### 🪛 **상품**

```jsx
**[유저 스토리]**
- 유저는 로그인하지 않아도 상품 조회가 가능하다.
- 로그인한 유저만 상품 구매가 가능하다.

**[HAPPY PATH]**
1. 유저는 상품 목록을 조회할 수 있다.
2. 유저는 특정 상품의 상세 정보를 확인할 수 있다.
3. 유저가 요청한 상품 목록을 정상적으로 반환한다.
4. 상품 상세 조회 시, 이름/가격/재고/설명을 포함한다.
5. 유저는 상품을 등록 최신순, 가격순, 인기순(좋아요 수)으로 정렬할 수 있다.

**[FAIL CASE]**
1. 상품이 존재하지 않으면 `404 Not Found`를 반환한다.
2. 상품이 "판매중" 상태가 아니면 `400 Bad Request`를 반환한다.
3. 한 번에 10개를 초과하는 상품 요청 시 `400 Bad Request`를 반환한다.
4. 필수 데이터(상품명, 가격, 수량)가 누락된 상품은 `500 Internal Server Error`를 반환한다.
```

---

🪛 **브랜드**

```jsx
**[유저 스토리]**
- 유저는 브랜드 목록을 조회할 수 있다.

**[HAPPY PATH]**
1. 유저는 특정 브랜드의 상품을 필터링 하여 볼 수 있다.
2. 브랜드 상세에는 브랜드명, 설명, 썸네일, 대표 상품 리스트가 포함된다.

**[FAIL CASE]**
1. 존재하지 않는 브랜드 조회 시 `404 Not Found`.
2. 비활성화된 브랜드 조회 시 `400 Bad Request`.
3. 잘못된 브랜드명 입력 시 `400 Bad Request`.
```

---

### 🪛 **좋아요**

```jsx
**[유저 스토리]**
- 로그인한 유저만 상품에 '좋아요' 등록이 가능 하다.
- 유저는 상품 '좋아요' 취소가 가능하다.
- 유저는 '좋아요'한 상품 목록을 조회할 수 있다.

**[HAPPY PATH]**
1. 좋아요 등록 시 현재 좋아요 수가 갱신되어 반환된다.
2. 이미 좋아요한 상품에 재요청 시 `200 OK` (멱등성).
3. 좋아요하지 않은 상품에 취소 요청 시 `200 OK` (멱등성).

**[FAIL CASE]**
1. 로그인하지 않으면 `401 Unauthorized`.
2. 존재하지 않는 상품에 요청 시 `404 Not Found`.
3. 판매 중지된 상품에 요청 시 `400 Bad Request`.
```

---
### 🪛 **주문/결제**

```jsx
**[유저 스토리]**
- 유저는 주문이 가능하다.
- 유저는 주문 목록을 조회가 가능하다.
- 유저는 단일 주문 목록의 상세조회를 가능하다.

**[HAPPY PATH]**
1. 유저가 구매할 상품의 가격보다 높은 포인트를 가지고 있고 상품목록을 post하면 주문이 생성되고 재고와 포인트가 차감된다.
2. 유저가 과거 주문을 가지고 있을 때, 주문 목록을 호출하면 주문리스트가 반환된다.
3. 유효한 주문 ID가 있을 때, 주문 상세 조회를 하면, 해당 주문의 상세정보가 반환된다.

**[FAIL CASE]**
1. 잘못된 userId로 주문 시도시 주문 생성시에 `404 Not Found`.
2. 존재하지 않는 상품을 주문 시 `400 Bad Request`.
3. 재고가 없는 상품을 주문 할 시 `400 Bad Requst`.
4. 유저의 포인트가 상품의 가격보다 적을 시 `400 Bad Request`.
```
